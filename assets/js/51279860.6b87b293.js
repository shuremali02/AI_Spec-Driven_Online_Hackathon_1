"use strict";(globalThis.webpackChunkbook_write=globalThis.webpackChunkbook_write||[]).push([[513],{5472:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>m,contentTitle:()=>h,default:()=>x,frontMatter:()=>u,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"module-1/module-1-overview","title":"Module 1: The Robotic Nervous System (ROS 2)","description":"Learn ROS 2 middleware for robot control - master nodes, topics, services, and URDF","source":"@site/docs/module-1/index.md","sourceDirName":"module-1","slug":"/module-1/","permalink":"/docs/module-1/","draft":false,"unlisted":false,"editUrl":"https://github.com/shuremali02/AI_Spec-Driven_Online_Hackathon_1/docs/module-1/index.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"module-1-overview","title":"Module 1: The Robotic Nervous System (ROS 2)","sidebar_position":1,"sidebar_label":"\ud83d\udcd8 Module Overview","description":"Learn ROS 2 middleware for robot control - master nodes, topics, services, and URDF","keywords":["ROS 2","robot middleware","Physical AI","URDF","rclpy"]},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udcd6 Book-Overview","permalink":"/docs/"},"next":{"title":"Chapter 1: Intro to Physical AI","permalink":"/docs/module-1/chapter-01-intro-physical-ai"}}');var o=t(4848),r=t(8453),s=t(4164),a=t(8774);const l={chapterCard:"chapterCard_VuMb",card__header:"card__header_B1qj",card__body:"card__body_rBVg",card__footer:"card__footer_j8SE",badge:"badge_Bn0R"};function c({number:e,title:n,duration:t,difficulty:i,wordCount:r,link:c}){return(0,o.jsx)("div",{className:(0,s.A)("col col--4 padding-horiz--md",l.chapterCard),children:(0,o.jsxs)("div",{className:"card",children:[(0,o.jsxs)("div",{className:"card__header",children:[(0,o.jsx)("div",{className:"text--center padding-horiz--md",children:(0,o.jsxs)("h3",{className:"text--center",children:[(0,o.jsxs)("small",{children:["Chapter ",e]}),(0,o.jsx)("br",{}),n]})}),(0,o.jsxs)("div",{className:"text--center padding-horiz--md",children:[(0,o.jsx)("span",{className:"badge badge--secondary",children:t}),(0,o.jsx)("span",{className:"badge badge--info margin-left--sm",children:i})]})]}),(0,o.jsx)("div",{className:"card__body",children:(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Word Count:"})," ",r]})}),(0,o.jsx)("div",{className:"card__footer text--center",children:(0,o.jsx)(a.A,{className:"button button--primary button--block",to:c,children:"Read Chapter"})})]})})}var d=t(8955);const u={id:"module-1-overview",title:"Module 1: The Robotic Nervous System (ROS 2)",sidebar_position:1,sidebar_label:"\ud83d\udcd8 Module Overview",description:"Learn ROS 2 middleware for robot control - master nodes, topics, services, and URDF",keywords:["ROS 2","robot middleware","Physical AI","URDF","rclpy"]},h="Module 1: The Robotic Nervous System (ROS 2)",m={},p=[{value:"Purpose",id:"purpose",level:2},{value:"Learning Outcomes",id:"learning-outcomes",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Chapter Overview",id:"chapter-overview",level:2},{value:"Module Roadmap",id:"module-roadmap",level:2},{value:"Diagrams",id:"diagrams",level:2},{value:"Module 1 Learning Path",id:"module-1-learning-path",level:3},{value:"ROS 2 Architecture Overview",id:"ros-2-architecture-overview",level:3},{value:"Module 1 Timeline",id:"module-1-timeline",level:3},{value:"Interactive Components",id:"interactive-components",level:2},{value:"Chapter Cards",id:"chapter-cards",level:3},{value:"Progress Indicator (Optional)",id:"progress-indicator-optional",level:3},{value:"Navigation",id:"navigation",level:2},{value:"Call-to-Action",id:"call-to-action",level:2},{value:"Sidebar Configuration (TypeScript)",id:"sidebar-configuration-typescript",level:2}];function g(e){const n={a:"a",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"module-1-the-robotic-nervous-system-ros-2",children:"Module 1: The Robotic Nervous System (ROS 2)"})}),"\n",(0,o.jsx)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",marginBottom:"1.5rem"},children:(0,o.jsx)(d.KF,{chapterId:"module-1/index"})}),"\n",(0,o.jsx)(n.h2,{id:"purpose",children:"Purpose"}),"\n",(0,o.jsxs)(n.p,{children:['Welcome to Module 1 of "Physical AI & Humanoid Robotics," where we embark on a journey into the foundational technology that powers intelligent robots: ',(0,o.jsx)(n.strong,{children:"ROS 2 (Robot Operating System 2)"}),". Just as a nervous system integrates sensory input, processes information, and coordinates motor responses in biological organisms, ROS 2 serves as the central communication backbone for sophisticated robotic systems. This overview page provides a comprehensive guide to what you will achieve, the topics we'll explore, and the path to mastering ROS 2."]}),"\n",(0,o.jsxs)(n.p,{children:["In this module, you will learn why ROS 2 is indispensable for modern robotics, enabling modular development, robust communication, and seamless integration of various hardware and software components. Over the next five weeks (Weeks 1-5), you will gain practical skills in ROS 2 fundamentals, Python integration with ",(0,o.jsx)(n.code,{children:"rclpy"}),", and the creation of detailed robot descriptions using URDF. This foundational knowledge is crucial for understanding embodied intelligence and preparing you to build and control humanoid robots throughout the rest of the 13-week course."]}),"\n",(0,o.jsx)(n.h2,{id:"learning-outcomes",children:"Learning Outcomes"}),"\n",(0,o.jsx)(n.p,{children:"Upon completing Module 1, you will be able to:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Understand Physical AI and embodied intelligence"}),", recognizing how digital AI concepts are integrated with physical robots to create intelligent, autonomous systems."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Master ROS 2 fundamentals"}),", including the roles and interactions of nodes, topics, services, and actions in building a distributed robot control architecture."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)(n.strong,{children:["Build functional ROS 2 packages with Python (",(0,o.jsx)(n.code,{children:"rclpy"}),")"]}),", demonstrating proficiency in creating publisher/subscriber and service client/server applications for robot communication."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Create accurate and descriptive URDF (Unified Robot Description Format) models"})," for humanoid robots, effectively defining their physical structure, joint limits, and sensor placements."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Bridge Python AI agents to ROS controllers"}),", enabling intelligent decision-making algorithms to command and control robotic hardware or simulate robotic environments."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsx)(n.p,{children:"To make the most of this module, students should have:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Required:"})," A solid understanding of Python basics, including syntax, data structures, functions, and object-oriented programming concepts. Familiarity with command-line interfaces (terminal navigation, basic commands like ",(0,o.jsx)(n.code,{children:"ls"}),", ",(0,o.jsx)(n.code,{children:"cd"}),", ",(0,o.jsx)(n.code,{children:"mkdir"}),") is also essential."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Helpful:"})," A basic grasp of Artificial Intelligence or Machine Learning concepts will provide a beneficial context, though it is not a strict requirement."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Software:"})," We will use Ubuntu 22.04 LTS as our operating system, ROS 2 Humble Hawksbill, and Python 3.10+. Detailed setup instructions will be provided."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Hardware for Module 1:"})," No specific robotics hardware is required to begin. This module can be completed entirely through powerful simulation environments like Gazebo and Isaac Sim (cloud-based). For those interested, hardware paths range from a Jetson Edge Kit (",(0,o.jsx)(n.del,{children:"$700) to a full Robot Lab setup ("}),"$3000), which will be discussed later in the course."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Time Commitment:"})," Students should anticipate dedicating approximately 3-5 hours per week to lectures, readings, and hands-on practical exercises."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"chapter-overview",children:"Chapter Overview"}),"\n",(0,o.jsx)(n.p,{children:"Module 1 is structured into five comprehensive chapters, each building upon the last to provide a complete understanding of ROS 2 and its applications in Physical AI."}),"\n",(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)(c,{number:"1",title:"Introduction to Physical AI",duration:"Week 1-2",difficulty:"Beginner",wordCount:"4000",link:"./chapter-01-intro-physical-ai"}),(0,o.jsx)(c,{number:"2",title:"ROS 2 Architecture Fundamentals",duration:"Week 3",difficulty:"Beginner",wordCount:"3500",link:"./chapter-02-ros2-architecture"}),(0,o.jsx)(c,{number:"3",title:"Building Your First ROS 2 Nodes",duration:"Week 4",difficulty:"Intermediate",wordCount:"4000",link:"./chapter-03-first-nodes"}),(0,o.jsx)(c,{number:"4",title:"URDF Robot Descriptions",duration:"Week 5",difficulty:"Intermediate",wordCount:"3500",link:"./chapter-04-urdf"}),(0,o.jsx)(c,{number:"5",title:"ROS 2 Launch Files and Parameter Management",duration:"Week 5",difficulty:"Intermediate",wordCount:"3500",link:"./module-1-chapter-05-ros2-launch-files"})]})}),"\n",(0,o.jsx)(n.h2,{id:"module-roadmap",children:"Module Roadmap"}),"\n",(0,o.jsx)(n.p,{children:"This roadmap outlines your journey through Module 1, highlighting key milestones and what to expect:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Week 1-2: Physical AI Introduction"})," \u2013 We begin with the theoretical underpinnings of Physical AI and embodied intelligence, understanding why humanoid robots are at the forefront of this field. You'll gain a conceptual understanding of sensor systems and the challenges of integrating AI with the physical world."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Week 3: ROS 2 Architecture"})," \u2013 Dive deep into the core components of ROS 2, dissecting nodes, topics, services, and actions. You'll understand the role of DDS middleware and Quality of Service (QoS) settings in robust robot communication."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Week 4: Building Your First Nodes"})," \u2013 Get hands-on with Python (",(0,o.jsx)(n.code,{children:"rclpy"}),") to create your first ROS 2 publisher and subscriber nodes. You'll learn how to define custom messages and use launch files for complex system orchestration."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Week 5: URDF Robot Descriptions and Launch Systems"})," \u2013 Conclude the module by mastering URDF (Unified Robot Description Format) for describing humanoid robot links, joints, and frames. You'll also learn to create sophisticated launch files for orchestrating multiple ROS 2 nodes with proper parameter management."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"After successfully navigating Module 1, you will have a strong foundation in ROS 2, empowering you to proceed to Module 2, where we will delve into more advanced topics such as robot perception, navigation, and manipulation."}),"\n",(0,o.jsx)(n.h2,{id:"diagrams",children:"Diagrams"}),"\n",(0,o.jsx)(n.h3,{id:"module-1-learning-path",children:"Module 1 Learning Path"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[Module 1: The Robotic Nervous System] --\x3e B[Week 1-2: Introduction to Physical AI]\n    A --\x3e C[Week 3: ROS 2 Architecture Fundamentals]\n    A --\x3e D[Week 4: Building Your First ROS 2 Nodes]\n    A --\x3e E[Week 5: URDF Robot Descriptions]\n    A --\x3e F[Week 5: ROS 2 Launch Files and Parameter Management]\n\n    B --\x3e G[Physical AI Concepts]\n    C --\x3e H[Nodes, Topics, Services]\n    D --\x3e I[Python Integration, rclpy]\n    E --\x3e J[URDF, Xacro, RViz]\n    F --\x3e K[Launch Systems, Parameters]\n\n    G --\x3e L[Learning Outcome 1]\n    H --\x3e M[Learning Outcome 2]\n    I --\x3e N[Learning Outcome 3]\n    J --\x3e O[Learning Outcome 4]\n    K --\x3e P[Learning Outcome 5]\n\n    L --\x3e Q[Final Outcome: Bridge AI to ROS]\n    M --\x3e Q\n    N --\x3e Q\n    O --\x3e Q\n    P --\x3e Q\n\n    classDef chapterBox fill:#e1f5fe,stroke:#01579b,stroke-width:2px\n    classDef outcomeBox fill:#f3e5f5,stroke:#4a148c,stroke-width:2px\n    classDef finalBox fill:#e8f5e8,stroke:#1b5e20,stroke-width:3px\n\n    class B,C,D,E,F chapterBox\n    class L,M,N,O,P outcomeBox\n    class Q finalBox\n"})}),"\n",(0,o.jsx)(n.h3,{id:"ros-2-architecture-overview",children:"ROS 2 Architecture Overview"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n    A[ROS 2 System] --\x3e B[Nodes]\n    A --\x3e C[Topics]\n    A --\x3e D[Services]\n    A --\x3e E[Actions]\n\n    B --\x3e F[Publisher Node]\n    B --\x3e G[Subscriber Node]\n    B --\x3e H[Service Server]\n    B --\x3e I[Service Client]\n\n    C --\x3e J[Message Passing]\n    D --\x3e K[Request/Response]\n    E --\x3e L[Goal/Result/Feedback]\n\n    F --\x3e J\n    G --\x3e J\n    H --\x3e K\n    I --\x3e K\n    F --\x3e L\n    G --\x3e L\n\n    J --\x3e M[DDS Middleware]\n    K --\x3e M\n    L --\x3e M\n\n    M --\x3e N[QoS Policies]\n\n    classDef nodeBox fill:#fff3e0,stroke:#e65100,stroke-width:2px\n    classDef commBox fill:#f3e5f5,stroke:#4a148c,stroke-width:2px\n    classDef middlewareBox fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px\n\n    class F,G,H,I nodeBox\n    class C,D,E,J,K,L commBox\n    class M,N middlewareBox\n"})}),"\n",(0,o.jsx)(n.h3,{id:"module-1-timeline",children:"Module 1 Timeline"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"gantt\n    title Module 1: The Robotic Nervous System Timeline\n    dateFormat  YYYY-MM-DD\n    section Week 1-2\n    Introduction to Physical AI :2025-01-01, 14d\n    section Week 3\n    ROS 2 Architecture Fundamentals :2w\n    section Week 4\n    Building Your First ROS 2 Nodes :1w\n    section Week 5\n    URDF Robot Descriptions :5d\n    ROS 2 Launch Files and Parameter Management :2d\n"})}),"\n",(0,o.jsx)(n.h2,{id:"interactive-components",children:"Interactive Components"}),"\n",(0,o.jsx)(n.p,{children:"Beyond static content, this module integrates interactive components for an enhanced learning experience:"}),"\n",(0,o.jsx)(n.h3,{id:"chapter-cards",children:"Chapter Cards"}),"\n",(0,o.jsx)(n.p,{children:"We utilize custom Docusaurus components for interactive chapter navigation. These cards provide a visually engaging and organized way to explore each chapter's content, detailing its duration, difficulty, and key topics at a glance."}),"\n",(0,o.jsx)(n.h3,{id:"progress-indicator-optional",children:"Progress Indicator (Optional)"}),"\n",(0,o.jsx)(n.p,{children:"A visual progress indicator will help you track your learning journey through the module and understand the estimated time commitment."}),"\n",(0,o.jsx)(n.h2,{id:"navigation",children:"Navigation"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Next:"})," ",(0,o.jsx)(n.a,{href:"./chapter-01-intro-physical-ai",children:"Chapter 1: Introduction to Physical AI \u2192"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Previous:"})," ",(0,o.jsx)(n.a,{href:"/docs/",children:"Getting Started \u2190"})," (Course overview and prerequisites)"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"The sidebar will also provide direct links to this overview page and all five chapters within Module 1, ensuring seamless navigation."}),"\n",(0,o.jsx)(n.h2,{id:"call-to-action",children:"Call-to-Action"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Ready to Start Your Journey?"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)("button",{class:"button button--primary button--lg",children:"Start Chapter 1 \u2192"})," (Links to: ",(0,o.jsx)(n.code,{children:"/mnt/e/AI_Spec-Driven_Online_Hackathon_1/book-write/docs/module-1/chapter-01-intro-physical-ai"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)("button",{class:"button button--secondary button--lg",children:"Review Prerequisites"})," (Links to: ",(0,o.jsx)(n.code,{children:"/mnt/e/AI_Spec-Driven_Online_Hackathon_1/book-write/docs/getting-started/index"})," if available)"]}),"\n",(0,o.jsx)(n.li,{children:"Help: Ask RAG Chatbot (accessible at the bottom-right of the page for quick queries)"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"sidebar-configuration-typescript",children:"Sidebar Configuration (TypeScript)"}),"\n",(0,o.jsxs)(n.p,{children:["To integrate this module correctly into the Docusaurus navigation, the ",(0,o.jsx)(n.code,{children:"sidebars.ts"})," file needs the following configuration:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"// book-write/sidebars.ts\n{\n  type: 'category',\n  label: '\ud83d\udcd8 Module 1: The Robotic Nervous System (ROS 2)',\n  collapsible: true,\n  collapsed: false,\n  items: [\n    'module-1/index',  // THIS PAGE (Module 1 Overview)\n    'module-1/chapter-01-intro-physical-ai',\n    'module-1/chapter-02-ros2-architecture',\n    'module-1/chapter-03-first-nodes',\n    'module-1/chapter-04-urdf',\n    'module-1/chapter-05-ros2-launch-files',\n  ],\n}\n"})})]})}function x(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(g,{...e})}):g(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(6540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}},8955:(e,n,t)=>{t.d(n,{KF:()=>h});var i=t(6540),o=t(54);const r={personalizeButton:"personalizeButton_nZfh",buttonIdle:"buttonIdle_CDbp",buttonLoading:"buttonLoading_azQE",buttonSuccess:"buttonSuccess_gCb5",buttonError:"buttonError_Dnbw",loadingSpinner:"loadingSpinner_em21",spin:"spin_Qjt3",buttonIcon:"buttonIcon_ezwL",errorMessage:"errorMessage_Wpdm",retryLink:"retryLink_PQGl",personalizedContent:"personalizedContent_RgVj",personalizationBadge:"personalizationBadge_c8Ce",badgeIcon:"badgeIcon_TtV3",personalizationSummary:"personalizationSummary_Qx6r",summaryTitle:"summaryTitle_Isn6",summaryList:"summaryList_hovQ",contentText:"contentText_GkB5",buttonContainer:"buttonContainer_tgJz",tooltip:"tooltip_wLKX"};var s=t(4848);function a({content:e,personalizationSummary:n,className:t}){const[o,a]=(0,i.useState)(!1),l=e=>{let n=e.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>");n=n.replace(/\*([^*]+)\*/g,"<em>$1</em>");const t=n.split(/(`[^`]+`)/g);return 1!==t.length||n.includes("<")?t.map((e,n)=>e.startsWith("`")&&e.endsWith("`")?(0,s.jsx)("code",{children:e.slice(1,-1)},n):e.includes("<strong>")||e.includes("<em>")?(0,s.jsx)("span",{dangerouslySetInnerHTML:{__html:e}},n):e):e};return(0,s.jsxs)("div",{className:`${r.personalizedContent} ${t||""}`,children:[(0,s.jsxs)("div",{className:r.personalizationBadge,children:[(0,s.jsxs)("svg",{className:r.badgeIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,s.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,s.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),(0,s.jsx)("span",{children:"Personalized for you"}),n&&(0,s.jsx)("button",{type:"button",onClick:()=>a(!o),style:{background:"none",border:"none",cursor:"pointer",marginLeft:"0.5rem",fontSize:"0.75rem",color:"inherit",textDecoration:"underline"},"aria-expanded":o,children:o?"Hide details":"Show details"})]}),o&&n&&(c=n,(0,s.jsxs)("div",{className:r.personalizationSummary,children:[(0,s.jsx)("div",{className:r.summaryTitle,children:"Personalization Applied:"}),(0,s.jsx)("ul",{className:r.summaryList,children:c.adjustments_made.map((e,n)=>(0,s.jsx)("li",{children:e},n))})]})),(0,s.jsx)("div",{className:r.contentText,children:(e=>{const n=[];let t=0;return e.split(/(```[\s\S]*?```)/g).forEach(e=>{if(e.startsWith("```")&&e.endsWith("```")){const i=e.slice(3,-3),o=i.indexOf("\n"),r=o>0?i.slice(0,o).trim():"",a=o>0?i.slice(o+1):i;n.push((0,s.jsx)("pre",{children:(0,s.jsx)("code",{className:r?`language-${r}`:void 0,children:a})},t++))}else if(e.trim()){e.split("\n").forEach(e=>{if(e.trim()){const i=e.match(/^(#{1,6})\s+(.*)$/);if(i){const e=i[1].length,o=l(i[2]),r=`h${e}`;n.push((0,s.jsx)(r,{children:o},t++))}else if(e.match(/^[-*]\s+/)){const i=l(e.replace(/^[-*]\s+/,""));n.push((0,s.jsx)("li",{children:i},t++))}else if(e.match(/^\d+\.\s+/)){const i=l(e.replace(/^\d+\.\s+/,""));n.push((0,s.jsx)("li",{children:i},t++))}else if(e.match(/^>\s+/)){const i=l(e.replace(/^>\s+/,""));n.push((0,s.jsx)("blockquote",{children:i},t++))}else n.push((0,s.jsx)("p",{children:l(e)},t++))}})}}),n})(e)})]});var c}const l={AUTH_REQUIRED:"Please sign in to personalize content.",INVALID_REQUEST:"Personalization request was invalid. Please try again.",PROFILE_NOT_FOUND:"Please complete your profile to personalize content.",PROFILE_INCOMPLETE:"Your profile is missing some information needed for personalization.",CHAPTER_NOT_FOUND:"Chapter not found.",PERSONALIZATION_FAILED:"Personalization failed. Please try again.",RATE_LIMITED:"Too many personalization requests. Please wait and try again.",NETWORK_ERROR:"Connection error. Check your internet connection.",TIMEOUT:"Personalization timed out. Please try again."},c={PERSONALIZE:"Personalize Content",LOADING:"Personalizing...",SHOW_ORIGINAL:"Show Original",PERSONALIZE_AGAIN:"Personalize Again",RETRY:"Retry Personalization"},d={ENDPOINT:"/api/personalize",TIMEOUT_MS:9e4,BACKEND_URL:"https://shurem-ragchatbot.hf.space"};var u=t(961);function h({chapterId:e}){const{user:n,profile:t,isLoading:h}=(0,o.As)(),[m,p]=(0,i.useState)({status:"idle",personalizedContent:null,showPersonalized:!1,errorMessage:null,personalizationSummary:null}),g=(0,i.useCallback)(async()=>{if(m.personalizedContent){const e=!m.showPersonalized;return void p(n=>({...n,showPersonalized:e}))}p(e=>({...e,status:"loading",errorMessage:null}));try{console.log("[Personalization] Starting personalization for chapter:",e);let t="";const i=document.querySelector("article");if(i){const e=i.cloneNode(!0),n=e.querySelector("div:has(.personalizeButton), div:has(.translateButton)");n&&n.remove(),t=e.innerText||e.textContent||""}else{const e=document.querySelector("main")||document.querySelector("#__docusaurus");if(e){const n=e.cloneNode(!0);n.querySelectorAll("button").forEach(e=>{(e.classList.contains("personalizeButton")||e.classList.contains("translateButton"))&&e.remove()}),t=n.innerText||n.textContent||""}}const o=new AbortController,r=setTimeout(()=>o.abort(),d.TIMEOUT_MS),s=`${d.BACKEND_URL}${d.ENDPOINT}`;console.log("[Personalization] Calling API:",s),console.log("[Personalization] Content length:",t.length);const a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({chapter_id:e,chapter_content:t,user_id:n?.id}),signal:o.signal});console.log("[Personalization] Response status:",a.status),clearTimeout(r);const c=await a.json();if(c.success)p({status:"success",personalizedContent:c.personalized_content,showPersonalized:!0,errorMessage:null,personalizationSummary:c.personalization_summary});else{const e=c.error,n=l[e]||c.message||"Personalization failed";p(e=>({...e,status:"error",errorMessage:n}))}}catch(t){console.error("[Personalization] Error:",t);let e=l.PERSONALIZATION_FAILED;t instanceof Error&&(console.error("[Personalization] Error name:",t.name,"Message:",t.message),"AbortError"===t.name?e=l.TIMEOUT:(t.message.includes("fetch")||t.message.includes("network"))&&(e=l.NETWORK_ERROR)),p(n=>({...n,status:"error",errorMessage:e}))}},[e,m.personalizedContent,m.showPersonalized]),x=(0,i.useCallback)(()=>{p({status:"idle",personalizedContent:null,showPersonalized:!1,errorMessage:null,personalizationSummary:null}),g()},[g]);if(h)return null;if(!n)return null;if(!function(e){if(!e)return!1;const{software_background:n,hardware_background:t}=e;return!!(n&&n.experience_level&&n.programming_languages?.length&&n.frameworks_platforms?.length&&t&&t.device_type&&t.operating_system&&t.system_capability)}(t))return null;const{status:b,showPersonalized:f,errorMessage:v}=m,y="loading"===b;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{type:"button",className:`${r.personalizeButton} ${(()=>{switch(b){case"loading":return r.buttonLoading;case"success":return f?r.buttonSuccess:r.buttonIdle;case"error":return r.buttonError;default:return r.buttonIdle}})()}`,onClick:g,disabled:y,"aria-label":f?"Show original content":"Personalize content based on your profile","aria-busy":"loading"===b,title:"Adapt content to your experience level and background",children:["loading"===b?(0,s.jsx)("span",{className:r.loadingSpinner,"aria-hidden":"true"}):(0,s.jsxs)("svg",{className:r.buttonIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,s.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,s.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),(0,s.jsx)("span",{children:"loading"===b?c.LOADING:"error"===b?c.RETRY:f?c.SHOW_ORIGINAL:m.personalizedContent&&!f?c.PERSONALIZE_AGAIN:c.PERSONALIZE})]}),"error"===b&&v&&(0,s.jsxs)("div",{className:r.errorMessage,role:"alert",children:[(0,s.jsx)("span",{children:v}),(0,s.jsx)("button",{type:"button",className:r.retryLink,onClick:x,"aria-label":"Retry personalization",children:"Try again"})]}),f&&m.personalizedContent&&"undefined"!=typeof document&&(()=>{const e=document.querySelector("article"),n=e?.querySelector('div[style*="flex"]');if(n){let e=document.getElementById("personalized-content-portal");return e||(e=document.createElement("div"),e.id="personalized-content-portal",e.style.cssText="width: 100%; max-width: 100%;",n.insertAdjacentElement("afterend",e)),(0,u.createPortal)((0,s.jsx)(a,{content:m.personalizedContent,personalizationSummary:m.personalizationSummary||void 0}),e)}return null})()]})}}}]);