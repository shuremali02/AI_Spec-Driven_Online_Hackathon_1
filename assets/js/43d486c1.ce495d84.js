"use strict";(globalThis.webpackChunkbook_write=globalThis.webpackChunkbook_write||[]).push([[26],{1696:(e,a,s)=>{s.d(a,{Hq:()=>o,Rn:()=>t,Xr:()=>n,bp:()=>l,c2:()=>r,nh:()=>i});const r=["Python","JavaScript/TypeScript","C/C++","Java","Go","Rust","Other"],t=["ROS/ROS 2","TensorFlow","PyTorch","OpenCV","Arduino/Embedded","Web Development","Mobile Development","Other"],l=[{value:"beginner",label:"Beginner (0-1 years)"},{value:"intermediate",label:"Intermediate (1-3 years)"},{value:"advanced",label:"Advanced (3-5 years)"},{value:"expert",label:"Expert (5+ years)"}],n=[{value:"desktop",label:"Desktop"},{value:"laptop",label:"Laptop"},{value:"tablet",label:"Tablet"},{value:"mobile",label:"Mobile"},{value:"embedded",label:"Embedded (Raspberry Pi, Jetson, etc.)"}],i=[{value:"windows",label:"Windows"},{value:"macos",label:"macOS"},{value:"linux",label:"Linux"},{value:"other",label:"Other"}],o=[{value:"low",label:"Low (basic web browsing)"},{value:"medium",label:"Medium (can run IDEs and light simulations)"},{value:"high",label:"High (can run heavy simulations and GPU workloads)"}]},4235:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var r=s(6540),t=s(7309),l=s(54),n=s(2851),i=s(1696);const o={authContainer:"authContainer_NlAJ",form:"form_tRWF",subtitle:"subtitle_tiKw",formGroup:"formGroup_K0X3",checkboxGroup:"checkboxGroup_yb5P",checkboxLabel:"checkboxLabel_U849",submitButton:"submitButton_hwL2",backButton:"backButton_vGns",buttonGroup:"buttonGroup_dNJu",errorMessage:"errorMessage_M1YT",successMessage:"successMessage_hFCy",switchPrompt:"switchPrompt_xsvc",linkButton:"linkButton_sEG5",progressIndicator:"progressIndicator_Icl5",progressStep:"progressStep_x80R",active:"active_ttbt",completed:"completed_JEYb"};var c=s(4848);function u({onSuccess:e,onSwitchToSignin:a}){const{refreshProfile:s,setProfile:t}=(0,l.As)(),[u,d]=(0,r.useState)("credentials"),[m,p]=(0,r.useState)(""),[h,b]=(0,r.useState)(""),[v,g]=(0,r.useState)(""),[x,f]=(0,r.useState)(""),[j,w]=(0,r.useState)([]),[y,S]=(0,r.useState)([]),[N,k]=(0,r.useState)(""),[C,P]=(0,r.useState)(""),[_,G]=(0,r.useState)(""),[B,E]=(0,r.useState)(""),[L,T]=(0,r.useState)(!1),[F,q]=(0,r.useState)(null),[A,O]=(0,r.useState)(null),D=e=>{e.preventDefault(),q(null),(!x||x.trim().length<2?(q("Name is required (minimum 2 characters)"),0):m&&h?h.length<8?(q("Password must be at least 8 characters"),0):h===v||(q("Passwords do not match"),0):(q("Email and password are required"),0))&&d("software")},M=e=>{e.preventDefault(),q(null),(0===j.length?(q("Please select at least one programming language"),0):0===y.length?(q("Please select at least one framework/platform"),0):N||(q("Please select your experience level"),0))&&d("hardware")},R=async a=>{if(a.preventDefault(),q(null),C?_?B||(q("Please select your system capability"),0):(q("Please select your operating system"),0):(q("Please select your device type"),0)){T(!0);try{const a=await n.Hh.email({email:m,password:h,name:x.trim()});if(console.log("Signup result:",a),a.error)return console.error("Signup error:",a.error),void q(a.error.message||"Account creation failed");const r={software_background:{programming_languages:j,frameworks_platforms:y,experience_level:N},hardware_background:{device_type:C,operating_system:_,system_capability:B}},t=await fetch(n.p$,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok){const e=await t.json().catch(()=>({}));throw console.error("Profile creation failed:",e),new Error(e.message||"Failed to create profile")}await s(),e?.()}catch(r){const e=r instanceof Error?r.message:"Signup failed";q(e)}finally{T(!1)}}},J=(e,a,s)=>{a.includes(e)?s(a.filter(a=>a!==e)):s([...a,e])};return(0,c.jsxs)("div",{className:o.authContainer,children:[(0,c.jsxs)("div",{className:o.progressIndicator,children:[(0,c.jsx)("div",{className:`${o.progressStep} ${"credentials"===u?o.active:""} ${["software","hardware"].includes(u)?o.completed:""}`,children:"1. Account"}),(0,c.jsx)("div",{className:`${o.progressStep} ${"software"===u?o.active:""} ${"hardware"===u?o.completed:""}`,children:"2. Software"}),(0,c.jsx)("div",{className:`${o.progressStep} ${"hardware"===u?o.active:""}`,children:"3. Hardware"})]}),F&&(0,c.jsx)("div",{className:o.errorMessage,children:F}),"credentials"===u&&(0,c.jsxs)("form",{onSubmit:D,className:o.form,children:[(0,c.jsx)("h3",{children:"Create Your Account"}),(0,c.jsx)("p",{className:o.subtitle,children:"Step 1 of 3: Enter your credentials"}),(0,c.jsxs)("div",{className:o.formGroup,children:[(0,c.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,c.jsx)("input",{id:"name",type:"text",value:x,onChange:e=>f(e.target.value),placeholder:"Your full name",required:!0,minLength:2,disabled:L})]}),(0,c.jsxs)("div",{className:o.formGroup,children:[(0,c.jsx)("label",{htmlFor:"email",children:"Email *"}),(0,c.jsx)("input",{id:"email",type:"email",value:m,onChange:e=>p(e.target.value),placeholder:"your@email.com",required:!0,disabled:L})]}),(0,c.jsxs)("div",{className:o.formGroup,children:[(0,c.jsx)("label",{htmlFor:"password",children:"Password *"}),(0,c.jsx)("input",{id:"password",type:"password",value:h,onChange:e=>b(e.target.value),placeholder:"At least 8 characters",required:!0,minLength:8,disabled:L})]}),(0,c.jsxs)("div",{className:o.formGroup,children:[(0,c.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password *"}),(0,c.jsx)("input",{id:"confirmPassword",type:"password",value:v,onChange:e=>g(e.target.value),placeholder:"Repeat your password",required:!0,disabled:L})]}),(0,c.jsx)("button",{type:"submit",className:o.submitButton,disabled:L,children:L?"Creating account...":"Next: Software Background"}),(0,c.jsxs)("p",{className:o.switchPrompt,children:["Already have an account?"," ",(0,c.jsx)("button",{type:"button",onClick:a,className:o.linkButton,children:"Sign in"})]})]}),"software"===u&&(0,c.jsxs)("form",{onSubmit:M,className:o.form,children:[(0,c.jsx)("h3",{children:"Software Background"}),(0,c.jsx)("p",{className:o.subtitle,children:"Step 2 of 3: Tell us about your programming experience"}),(0,c.jsxs)("div",{className:o.formGroup,children:[(0,c.jsx)("label",{children:"Programming Languages * (select all that apply)"}),(0,c.jsx)("div",{className:o.checkboxGroup,children:i.c2.map(e=>(0,c.jsxs)("label",{className:o.checkboxLabel,children:[(0,c.jsx)("input",{type:"checkbox",checked:j.includes(e),onChange:()=>J(e,j,w)}),e]},e))})]}),(0,c.jsxs)("div",{className:o.formGroup,children:[(0,c.jsx)("label",{children:"Frameworks & Platforms * (select all that apply)"}),(0,c.jsx)("div",{className:o.checkboxGroup,children:i.Rn.map(e=>(0,c.jsxs)("label",{className:o.checkboxLabel,children:[(0,c.jsx)("input",{type:"checkbox",checked:y.includes(e),onChange:()=>J(e,y,S)}),e]},e))})]}),(0,c.jsxs)("div",{className:o.formGroup,children:[(0,c.jsx)("label",{htmlFor:"experienceLevel",children:"Experience Level *"}),(0,c.jsxs)("select",{id:"experienceLevel",value:N,onChange:e=>k(e.target.value),required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select your experience level"}),i.bp.map(e=>(0,c.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,c.jsxs)("div",{className:o.buttonGroup,children:[(0,c.jsx)("button",{type:"button",onClick:()=>d("credentials"),className:o.backButton,children:"Back"}),(0,c.jsx)("button",{type:"submit",className:o.submitButton,children:"Next: Hardware Background"})]})]}),"hardware"===u&&(0,c.jsxs)("form",{onSubmit:R,className:o.form,children:[(0,c.jsx)("h3",{children:"Hardware Background"}),(0,c.jsx)("p",{className:o.subtitle,children:"Step 3 of 3: Tell us about your development environment"}),(0,c.jsxs)("div",{className:o.formGroup,children:[(0,c.jsx)("label",{htmlFor:"deviceType",children:"Primary Device *"}),(0,c.jsxs)("select",{id:"deviceType",value:C,onChange:e=>P(e.target.value),required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select your device type"}),i.Xr.map(e=>(0,c.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,c.jsxs)("div",{className:o.formGroup,children:[(0,c.jsx)("label",{htmlFor:"operatingSystem",children:"Operating System *"}),(0,c.jsxs)("select",{id:"operatingSystem",value:_,onChange:e=>G(e.target.value),required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select your operating system"}),i.nh.map(e=>(0,c.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,c.jsxs)("div",{className:o.formGroup,children:[(0,c.jsx)("label",{htmlFor:"systemCapability",children:"System Capability *"}),(0,c.jsxs)("select",{id:"systemCapability",value:B,onChange:e=>E(e.target.value),required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select your system capability"}),i.Hq.map(e=>(0,c.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,c.jsxs)("div",{className:o.buttonGroup,children:[(0,c.jsx)("button",{type:"button",onClick:()=>d("software"),className:o.backButton,disabled:L,children:"Back"}),(0,c.jsx)("button",{type:"submit",className:o.submitButton,disabled:L,children:L?"Creating profile...":"Complete Signup"})]})]})]})}function d({onSuccess:e,onSwitchToSignup:a}){const{refreshProfile:s}=(0,l.As)(),[t,i]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[m,p]=(0,r.useState)(!1),[h,b]=(0,r.useState)(null);return(0,c.jsx)("div",{className:o.authContainer,children:(0,c.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),b(null),t&&u){p(!0);try{const a=await n.Jv.email({email:t,password:u});if(a.error)return void b(a.error.message||"Sign in failed");await s(),e?.()}catch(r){const e=r instanceof Error?r.message:"Sign in failed";b(e)}finally{p(!1)}}else b("Email and password are required")},className:o.form,children:[(0,c.jsx)("h3",{children:"Sign In"}),(0,c.jsx)("p",{className:o.subtitle,children:"Welcome back! Enter your credentials to continue."}),h&&(0,c.jsx)("div",{className:o.errorMessage,children:h}),(0,c.jsxs)("div",{className:o.formGroup,children:[(0,c.jsx)("label",{htmlFor:"email",children:"Email"}),(0,c.jsx)("input",{id:"email",type:"email",value:t,onChange:e=>i(e.target.value),placeholder:"your@email.com",required:!0,disabled:m})]}),(0,c.jsxs)("div",{className:o.formGroup,children:[(0,c.jsx)("label",{htmlFor:"password",children:"Password"}),(0,c.jsx)("input",{id:"password",type:"password",value:u,onChange:e=>d(e.target.value),placeholder:"Your password",required:!0,disabled:m})]}),(0,c.jsx)("button",{type:"submit",className:o.submitButton,disabled:m,children:m?"Signing in...":"Sign In"}),(0,c.jsxs)("p",{className:o.switchPrompt,children:["Don't have an account?"," ",(0,c.jsx)("button",{type:"button",onClick:a,className:o.linkButton,children:"Sign up"})]})]})})}function m(){if("undefined"==typeof window)return"signin";return"signup"===new URLSearchParams(window.location.search).get("mode")?"signup":"signin"}function p(){const[e,a]=(0,r.useState)(m),{user:s,profile:t,isLoading:n}=(0,l.As)();(0,r.useEffect)(()=>{const e=()=>{a(m())};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[]),r.useEffect(()=>{s&&t&&!n&&(window.location.href="/profile")},[s,t,n]);return n?(0,c.jsx)("div",{style:{textAlign:"center",padding:"3rem"},children:"Loading..."}):(0,c.jsx)("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"2rem"},children:"signin"===e?(0,c.jsx)(d,{onSuccess:()=>{window.location.href="/profile"},onSwitchToSignup:()=>a("signup")}):(0,c.jsx)(u,{onSuccess:()=>{window.location.href="/profile"},onSwitchToSignin:()=>a("signin")})})}function h(){return(0,c.jsx)(t.A,{title:"Authentication",description:"Sign in or create an account",children:(0,c.jsx)("main",{style:{padding:"2rem 0"},children:(0,c.jsx)(l.OJ,{children:(0,c.jsx)(p,{})})})})}}}]);